{% extends "base.html" %}

{% block title %} Productos {% endblock %}

{% block content %}
<h1>
    Lista de Productos
    <a href="{% url 'agregar_producto' %}" class="btn btn-secondary" style="max-width: 85px">Agregar</a>
</h1>

<!-- Botón de agregar-->


<!-- Formulario de búsqueda -->
<form method="get" action="{% url 'listar_productos' %}" class="mb-3 d-flex ms-auto" style="max-width: 400px;">
    <div class="input-group">
        <input type="text" name="buscar" class="form-control" placeholder="Buscar productos por nombre" value="{{ query }}">
        <button type="submit" class="btn btn-primary">Buscar</button>
    </div>
</form>

<!-- Lista de productos -->
<ul class="list-group">
    
    <table class="table">
        <thead>
            <tr>
                <th>Nombre</td>
                <th>Precio</td>
                <th>Cantidad</td>
                <th>Categoria</td>
                <th>Acciones</td>
            </tr>
        </thead>
        <tbody>
        {% for producto in productos %}
        <tr>
            <td>{{ producto.nombre }}</td>
            <td>{{ producto.precio }}</td>
            <td>{{ producto.cantidad }}</td>
            <td>{{ producto.categoria }}</td>
            <td>
                <a href="{% url 'editar_producto' producto.id %}" class="btn btn-warning">Editar</a>
                <a href="{% url 'eliminar_producto' producto.id %}" class="btn btn-danger">Eliminar</a>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
    
</ul>
{% endblock %}
